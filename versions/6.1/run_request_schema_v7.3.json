{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://iqm-finland.github.io/iqm-client/run_request_schema_v7.3.json",
  "title": "RunRequest",
  "description": "Request for an IQM quantum computer to execute a batch of quantum circuits.\n\nNote: all circuits in a batch must measure the same qubits otherwise batch execution fails.",
  "type": "object",
  "properties": {
    "circuits": {
      "title": "Circuits",
      "description": "batch of quantum circuit(s) to execute",
      "type": "array",
      "items": {
        "$ref": "#/definitions/Circuit"
      }
    },
    "settings": {
      "title": "Settings",
      "description": "IQM hardware settings and calibration data, or None to use the latest calibration set",
      "type": "object"
    },
    "calibration_set_id": {
      "title": "Calibration Set Id",
      "description": "ID of the calibration set to use, or None to use the latest calibration set",
      "type": "integer"
    },
    "qubit_mapping": {
      "title": "Qubit Mapping",
      "description": "mapping of logical qubit names to physical qubit names, or None if using physical qubit names",
      "type": "array",
      "items": {
        "$ref": "#/definitions/SingleQubitMapping"
      }
    },
    "shots": {
      "title": "Shots",
      "description": "how many times to execute each circuit in the batch",
      "type": "integer"
    }
  },
  "required": [
    "circuits",
    "shots"
  ],
  "definitions": {
    "Instruction": {
      "title": "Instruction",
      "description": "An instruction in a quantum circuit.\n    ",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "name of the quantum operation",
          "example": "measurement",
          "type": "string"
        },
        "qubits": {
          "title": "Qubits",
          "description": "names of the logical qubits the operation acts on",
          "example": [
            "alice"
          ],
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "args": {
          "title": "Args",
          "description": "arguments for the operation",
          "example": {
            "key": "m"
          },
          "type": "object"
        }
      },
      "required": [
        "name",
        "qubits",
        "args"
      ]
    },
    "Circuit": {
      "title": "Circuit",
      "description": "Quantum circuit to be executed.\n    ",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "name of the circuit",
          "example": "test circuit",
          "type": "string"
        },
        "instructions": {
          "title": "Instructions",
          "description": "instructions comprising the circuit",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Instruction"
          }
        }
      },
      "required": [
        "name",
        "instructions"
      ]
    },
    "SingleQubitMapping": {
      "title": "SingleQubitMapping",
      "description": "Mapping of a logical qubit name to a physical qubit name.\n    ",
      "type": "object",
      "properties": {
        "logical_name": {
          "title": "Logical Name",
          "description": "logical qubit name",
          "example": "alice",
          "type": "string"
        },
        "physical_name": {
          "title": "Physical Name",
          "description": "physical qubit name",
          "example": "QB1",
          "type": "string"
        }
      },
      "required": [
        "logical_name",
        "physical_name"
      ]
    }
  }
}